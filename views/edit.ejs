<%- include('header.ejs') %>
    <div class="grid min-h-screen place-items-center">
        <div class="w-11/12 p-12 bg-white sm:w-8/12 md:w-1/2 lg:w-5/12">
            <h1 class="text-xl font-semibold">UreÄ‘ivanje oglasa</h1>

            <%
            if(cars.length > 0) {
            %>
            <form class="mt-6" action="/api/editpost/<%=cars[0].id%>" method="POST">
                <label for="title" class="block text-xs font-semibold text-gray-600 uppercase">Title</label>
                <input id="title" type="text" name="title" placeholder="Unesite naslov" autocomplete="given-name"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].title %>"
                    required />
                <label for="description" class="block text-xs font-semibold text-gray-600 uppercase mt-2">Description</label>
                <textarea id="description" type="text" name="description" placeholder="Unesite opis"
                    autocomplete="family-name"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    required><%=cars[0].description %></textarea>
                <label for="manufacturer" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Brand</label>
                <input id="manufacturer" type="manufacturer" name="manufacturer"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].manufacturer %>"
                    required />
                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Model</label>
                <input id="" type="" name="model" placeholder="Unesite model" autocomplete=""
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].model %>"
                    required />
                <div class="flex justify-between gap-3">

                    <span class="w-1/2">
                        <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Year of prod.</label>
                        <select
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            required id="year" name="manufacturedyear">
                            <option selected="<%= cars[0].manufacturedyear%>"><%= cars[0].manufacturedyear %></option>
                            <option value="1970">1970</option>
                            <option value="1971">1971</option>
                            <option value="1972">1972</option>
                            <option value="1973">1973</option>
                            <option value="1974">1974</option>
                            <option value="1975">1975</option>
                            <option value="1976">1976</option>
                            <option value="1977">1977</option>
                            <option value="1978">1978</option>
                            <option value="1979">1979</option>
                            <option value="1980">1980</option>
                            <option value="1981">1981</option>
                            <option value="1982">1982</option>
                            <option value="1983">1983</option>
                            <option value="1984">1984</option>
                            <option value="1985">1985</option>
                            <option value="1986">1986</option>
                            <option value="1987">1987</option>
                            <option value="1988">1988</option>
                            <option value="1989">1989</option>
                            <option value="1990">1990</option>
                            <option value="1991">1991</option>
                            <option value="1992">1992</option>
                            <option value="1993">1993</option>
                            <option value="1994">1994</option>
                            <option value="1995">1995</option>
                            <option value="1996">1996</option>
                            <option value="1997">1997</option>
                            <option value="1998">1998</option>
                            <option value="1999">1999</option>
                            <option value="2000">2000</option>
                            <option value="2001">2001</option>
                            <option value="2002">2002</option>
                            <option value="2003">2003</option>
                            <option value="2004">2004</option>
                            <option value="2005">2005</option>
                            <option value="2006">2006</option>
                            <option value="2007">2007</option>
                            <option value="2008">2008</option>
                            <option value="2009">2009</option>
                            <option value="2010">2010</option>
                            <option value="2011">2011</option>
                            <option value="2012">2012</option>
                            <option value="2013">2013</option>
                            <option value="2014">2014</option>
                            <option value="2015">2015</option>
                            <option value="2016">2016</option>
                            <option value="2017">2017</option>
                            <option value="2018">2018</option>
                            <option value="2019">2019</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                        </select>

                    </span>
                    <span class="w-1/2">
                        <label for=""
                            class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Mileage</label>
                        <input id="" type="text" name="mileage"
                        value="<%=cars[0].mileage %>"
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            required />
                    </span>
                </div>
                <div class="flex justify-between gap-3">

                    <span class="w-1/2">
                        <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Engine size
                            (ccm3)</label>
                        <input id="" type="text" name="enginesize"
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            value="<%=cars[0].enginesize %>"
                            required />
                    </span>
                    <span class="w-1/2">
                        <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Power
                            (kW)</label>
                        <input id="" type="text" name="enginepower"
                        value="<%=cars[0].enginepower %>"
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            required />
                    </span>
                </div>

                <div class="flex justify-between gap-3">

                <span class="w-1/2">
                    <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Gorivo</label>
                    <select
                        class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                        required  name="fuel">
                        <option selected="<%= cars[0].fuel%>"><%= cars[0].fuel%></option>
                        <option value="Diesel">Diesel</option>
                        <option value="Petrol">Petrol</option>
                        <option value="LPG">Benzin + LPG</option>
                        <option value="Electric">Electric</option>
                        <option value="Hybrid">Hybrid</option>

                    </select>
                </span>
                <span class="w-1/2">
                    <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Transmission</label>
                    <select
                        class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                        required  name="shiftsystem">
                        <option selected="<%=cars[0].shiftsystem%>"><%=cars[0].shiftsystem%></option>
                        <option value="Automatic">Automatic</option>
                        <option value="Manual">Manual</option>
                        <option value="Sequential">Sequential</option>
                    </select>
                </span>



                </div>

                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Image link
                </label>
                <input id="" type="text" name="imageuri"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].imageuri %>"
                    required />
                <div class="flex justify-between gap-3">

                    <span class="w-1/2">
                        <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Garaged</label>
                        <select
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            required id="year" name="garaged">
                           <% var garaged;
                            if(cars[0].garaged==0) 
                            {
                                garaged = 'No'
                            } else {
                                garaged = 'Yes'
                            }
                            %>
                            <option selected="<%=cars[0].garaged%>" value="<%=cars[0].garaged%>"><%=garaged%></option>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </span>
                    <span class="w-1/2">
                        <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Crashed</label>
                        <select
                            class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                            required id="year" name="crashed">
                           <% var crashed;
                            if(cars[0].crashed==0) 
                            {
                                crashed = 'No'
                            } else {
                                crashed = 'Yes'
                            }
                            %>
                            <option selected="<%=cars[0].crashed=0%>" value="<%=cars[0].crashed=0%>"><%=crashed%></option>
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </span>
                </div>
                <div class="flex justify-between gap-3">
                <span class="w-1/2">
                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Vehicle type</label>
                <select
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    required  name="type">
                    <option selected="<%=cars[0].type%>"><%=cars[0].type%></option>
                    <option value="Personal">Personal</option>
                    <option value="Commercial">Commercial</option>
                    <option value="Odltimer">Oldtimer</option>
                    <option value="Bike">Bike</option>
                </select>
                </span>
                <span class="w-1/2">
                    <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Service history</label>
                    <select
                        class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                        required  name="servicehistory">
                        <%
                        var serviceHistory;
                        if(cars[0].servicehistory==0) 
                        {
                            serviceHistory = 'No'
                        } else {
                            serviceHistory = 'Yes'
                        }
                        %>
                        <option selected="<%=cars[0].servicehistory%>" value="<%=cars[0].servicehistory%>"><%=serviceHistory%></option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                    </select>
                </span>
                </div>
                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Number of owners
                </label>
                <input id="" type="text" name="owner" 
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].owner %>"
                    required />
                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">VIN number
                </label>
                <input id="" type="text" name="vinnumber"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                    value="<%=cars[0].vinnumber %>"
                    required />
                <label for="" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Price (HRK)
                </label>
                <input id="" type="text" name="price"
                        class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                        value="<%=cars[0].price %>"
                        required />                  
                <button type="submit"
                    class="w-full py-3 mt-6 font-medium tracking-widest text-white uppercase bg-blue-500 shadow-lg focus:outline-none hover:bg-blue-600 hover:shadow-none">
                    Update listing
                </button>
        </div>
        <% }%>
        </form>
    </div>
    </div>
    </body>
    <%- include('footer.ejs') %>