<%- include('header.ejs') %>

    <!-- <div class="grid grid-cols-3"> -->
        <div class="fixed w-1/3 mx-auto px-12">
            <h1 class="text-xl font-semibold">Search for cars</h1>
            <form class="mt-6" action="/api/filtered" method="POST">
                <label for="username"
                    class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Manufacturer</label>
                <input id="" type="text" placeholder="Enter manufacturer" name="manufacturer"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />

                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Model</label>
                <input id="" type="text" placeholder="Enter model" name="model"
                    class="block w-full p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />


                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Price
                </label>
                <input id="" type="number" placeholder="From" name="priceFrom"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />
                <input id="" type="number" placeholder="To" name="priceTo"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />   
                
                    <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Year 
                    </label>
                    <input id="" type="number" placeholder="From" name="yearFrom"
                        class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                         />
                    <input id="" type="number" placeholder="To" name="yearTo"
                        class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                         /> 

                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Mileage
                    </label>
                <input id="" type="number" placeholder="From" name="mileageFrom"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />
                <input id="" type="number" placeholder="To" name="mileageTo"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />    

                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Engine size
                    </label>
                    <input id="" type="number" placeholder="From" name="engineFrom"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />
                <input id="" type="number" placeholder="To" name="engineTo"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />

                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Power (kW)
                    </label>
                    <input id="" type="number" placeholder="From" name="powerFrom"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />
                <input id="" type="number" placeholder="To" name="powerTo"
                    class="w-5/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner"
                     />

                    <div class="grid grid-cols-4 w-full">
                            <div>
                            <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Fuel type</label>
                                <select class="w-11/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner" name="fuel">
                                    <option value=" ">---</option>
                                    <option value="petrol">Petrol</option>
                                    <option value="diesel">Diesel</option>
                                    <option value="hybrid">Hybrid</option>
                                    <option value="electric">Electric</option>
                                </select>
                            </div>
                            <div>
                            <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Service his.</label>
                                <select class="w-11/12 p-3 mt-2 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner" name="service">
                                    <option value=" ">---</option>
                                    <option value="1">Yes</option>
                                    <option value="0">No</option>
                                </select>
                            </div>
                            <div>
    
                                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Garaged</label>
                                <select class="w-11/12 p-3 mt-2 ml-1 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner" name="garaged">
                                    <option value=" ">---</option>
                                    <option value="1">Yes</option>
                                    <option value="0">No</option>
                                </select>
                                
                            </div>
                            <div>
    
                                <label for="username" class="block mt-2 text-xs font-semibold text-gray-600 uppercase">Crashed</label>
                                <select class="w-11/12 p-3 mt-2 ml-1 text-gray-700 bg-gray-200 appearance-none focus:outline-none focus:bg-gray-300 focus:shadow-inner" name="crashed">
                                    <option value=" ">---</option>
                                    <option value="1">Yes</option>
                                    <option value="0">No</option>
                                </select>
                                
                            </div>
                            
                        </div>

                <button type="submit"
                    class="w-full py-3 mt-6 font-medium tracking-widest text-white uppercase bg-blue-500 shadow-lg focus:outline-none hover:bg-blue-600 hover:shadow-none">
                    Search
                </button>
            </form>
        </div>

        <div class="flex justify-center items-center col-span-2">
                <% if(typeof(cars) !='undefined' ) { 
                    if(cars.length!=0) { 
                        cars.forEach((cars)=> { %>
                <div class="container mx-auto max-w-xl w-full p-4 sm:w-1/2">
                    <div class="card flex flex-col justify-center p-10 bg-white rounded-lg shadow-2xl">
                        <div class="prod-title">
                            <p class="text-2xl uppercase text-gray-900 font-bold">
                                <%=cars.title %>
                            </p>
                            <p class="uppercase text-sm text-gray-400">
                                Mileage: <%=cars.mileage %>
                            </p>
                            <p class="uppercase text-sm text-gray-400">
                                Year of production: <%=cars.manufacturedyear %>
                            </p>
                        </div>
                        <div class="prod-img my-2">
                            <img src="<%=cars.imageuri %>" class="w-full object-cover object-center" />
                        </div>

                        <div class="flex flex-col md:flex-row justify-between items-center text-gray-900">
                            <p class="font-bold text-xl">
                                <%=cars.price%> HRK ~ <%=cars.price*0.13%> â‚¬
                            </p>
                            <a href="/api/car/<%=cars.id%>"
                                class="px-6 py-2 transition ease-in duration-200 uppercase rounded-full hover:bg-gray-800 hover:text-white border-2 border-gray-900 focus:outline-none">See more
                            </a>
                        </div>
                    </div>
                </div>
            </div>

    <% })} } else { %>
        <div class="rounded-md mx-auto text-xl bg-red-300 shadow-lg w-40 border border-red-500 p-1 col-span-2 h-10 my-auto">
            <h1 class="text-red-700">No cars found.</h1>
        </div>
        <% }%>
            </div>



    <%- include('footer.ejs') %>